@TTL |SplitByte|
@AREA |Program| @CODE, @READWRITE
@ENTRY

    Start
            MOV     R1, PC
            LDRH    R1, [R1, `Value]
            MOV     R2, PC
            LDRH    R2, [R2, `Mask]
            LSR     R3, R1, #0x2
            LSL     R3, R3, #0x4
            AND     R1, R2
            MOV     R8, R3
            ADD     R1, R8
            MOV     R2, PC
            STRH    R1, [R2, `Result]
            SWI     &11

@END

@AREA |Data| @DATA, @READWRITE
@ENTRY

    Value   @DCHW   &00FB
    Mask    @DCHW   &000F
    Result  @DCHW   #0

@END